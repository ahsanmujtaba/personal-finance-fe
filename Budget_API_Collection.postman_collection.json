{
	"info": {
		"_postman_id": "budget-api-collection",
		"name": "Budget API Collection",
		"description": "Comprehensive collection for testing Budget and Budget Items API endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"budgettest@example.com\",\n  \"password\": \"password123\",\n  \"password_confirmation\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"register"
							]
						}
					},
					"response": [
						{
							"name": "Successful Registration",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"budgettest@example.com\",\n  \"password\": \"password123\",\n  \"password_confirmation\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/register",
									"host": ["{{base_url}}"],
									"path": ["api", "register"]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"user\": {\n    \"email\": \"budgettest@example.com\",\n    \"updated_at\": \"2025-09-07T06:36:56.000000Z\",\n    \"created_at\": \"2025-09-07T06:36:56.000000Z\",\n    \"id\": 5\n  },\n  \"token\": \"28|tWedZlTGi5RiS4CaE3jKCK3BrlpMGgdnPEGKedd7eb5b3eb4\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Budget Management",
			"item": [
				{
					"name": "Get All Budgets",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets"
							]
						}
					},
					"response": [
						{
							"name": "Empty Budgets List",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/budgets",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[]"
						}
					]
				},
				{
					"name": "Get Budgets by Month",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets?month=2024-01",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets"
							],
							"query": [
								{
									"key": "month",
									"value": "2024-01"
								}
							]
						}
					},
					"response": [
						{
							"name": "Budget Found or Created for Month",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/budgets?month=2024-02",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets"],
									"query": [{"key": "month", "value": "2024-02"}]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 2,\n  \"user_id\": 5,\n  \"month\": \"2024-02-01T00:00:00.000000Z\",\n  \"notes\": null,\n  \"created_at\": \"2025-09-07T06:38:05.000000Z\",\n  \"updated_at\": \"2025-09-07T06:38:05.000000Z\",\n  \"budget_items\": [],\n  \"incomes\": [],\n  \"expenses\": []\n}"
						}
					]
				},
				{
					"name": "Create Budget",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"month\": \"2024-01-01\",\n  \"notes\": \"January 2024 Budget\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/budgets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets"
							]
						}
					},
					"response": [
						{
							"name": "Budget Created Successfully",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"month\": \"2024-01-01\",\n  \"notes\": \"January 2024 Budget\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/budgets",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets"]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"user_id\": 5,\n  \"month\": \"2024-01-01T00:00:00.000000Z\",\n  \"notes\": \"January 2024 Budget\",\n  \"updated_at\": \"2025-09-07T06:37:12.000000Z\",\n  \"created_at\": \"2025-09-07T06:37:12.000000Z\",\n  \"id\": 1,\n  \"budget_items\": [],\n  \"incomes\": [],\n  \"expenses\": []\n}"
						}
					]
				},
				{
					"name": "Get Budget by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								"1"
							]
						}
					},
					"response": [
						{
							"name": "Budget Retrieved Successfully",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/budgets/1",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets", "1"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"user_id\": 5,\n  \"month\": \"2024-01-01T00:00:00.000000Z\",\n  \"notes\": \"January 2024 Budget\",\n  \"created_at\": \"2025-09-07T06:37:12.000000Z\",\n  \"updated_at\": \"2025-09-07T06:37:12.000000Z\",\n  \"budget_items\": [],\n  \"incomes\": [],\n  \"expenses\": []\n}"
						}
					]
				},
				{
					"name": "Update Budget",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"month\": \"2024-01-01\",\n  \"notes\": \"Updated January 2024 Budget\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/budgets/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								"1"
							]
						}
					},
					"response": [
						{
							"name": "Budget Updated Successfully",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"month\": \"2024-01-01\",\n  \"notes\": \"Updated January 2024 Budget\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/budgets/1",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets", "1"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"user_id\": 5,\n  \"month\": \"2024-01-01T00:00:00.000000Z\",\n  \"notes\": \"Updated January 2024 Budget\",\n  \"created_at\": \"2025-09-07T06:37:12.000000Z\",\n  \"updated_at\": \"2025-09-07T06:37:37.000000Z\",\n  \"budget_items\": [],\n  \"incomes\": [],\n  \"expenses\": []\n}"
						}
					]
				},
				{
					"name": "Delete Budget",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets/2",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								"2"
							]
						}
					},
					"response": [
						{
							"name": "Budget Deleted Successfully",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/budgets/2",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets", "2"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Budget deleted successfully\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Budget Items Management",
			"item": [
				{
					"name": "Create Category (Required for Budget Items)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Groceries\",\n  \"type\": \"expense\",\n  \"color\": \"#FF5733\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories"
							]
						}
					},
					"response": [
						{
							"name": "Category Created Successfully",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Groceries\",\n  \"type\": \"expense\",\n  \"color\": \"#FF5733\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/categories",
									"host": ["{{base_url}}"],
									"path": ["api", "categories"]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"user_id\": 5,\n  \"name\": \"Groceries\",\n  \"type\": \"expense\",\n  \"color\": \"#FF5733\",\n  \"sort_order\": 0,\n  \"is_default\": false,\n  \"updated_at\": \"2025-09-07T06:37:49.000000Z\",\n  \"created_at\": \"2025-09-07T06:37:49.000000Z\",\n  \"id\": 5\n}"
						}
					]
				},
				{
					"name": "Create Budget Item",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"category_id\": 5,\n  \"planned_amount\": 500.00,\n  \"notes\": \"Monthly grocery budget\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/budgets/1/items",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								"1",
								"items"
							]
						}
					},
					"response": [
						{
							"name": "Budget Item Created Successfully",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"category_id\": 5,\n  \"planned_amount\": 500.00,\n  \"notes\": \"Monthly grocery budget\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/budgets/1/items",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets", "1", "items"]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"budget_id\": 1,\n  \"category_id\": 5,\n  \"planned_amount\": \"500.00\",\n  \"notes\": \"Monthly grocery budget\",\n  \"updated_at\": \"2025-09-07T06:37:58.000000Z\",\n  \"created_at\": \"2025-09-07T06:37:58.000000Z\",\n  \"id\": 1,\n  \"category\": {\n    \"id\": 5,\n    \"user_id\": 5,\n    \"name\": \"Groceries\",\n    \"type\": \"expense\",\n    \"color\": \"#FF5733\",\n    \"sort_order\": 0,\n    \"is_default\": false,\n    \"created_at\": \"2025-09-07T06:37:49.000000Z\",\n    \"updated_at\": \"2025-09-07T06:37:49.000000Z\"\n  }\n}"
						}
					]
				},
				{
					"name": "Update Budget Item",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"category_id\": 5,\n  \"planned_amount\": 600.00,\n  \"notes\": \"Updated monthly grocery budget\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/budget-items/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budget-items",
								"1"
							]
						}
					},
					"response": [
						{
							"name": "Budget Item Updated Successfully",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"category_id\": 5,\n  \"planned_amount\": 600.00,\n  \"notes\": \"Updated monthly grocery budget\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/budget-items/1",
									"host": ["{{base_url}}"],
									"path": ["api", "budget-items", "1"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"budget_id\": 1,\n  \"category_id\": 5,\n  \"planned_amount\": \"600.00\",\n  \"notes\": \"Updated monthly grocery budget\",\n  \"created_at\": \"2025-09-07T06:37:58.000000Z\",\n  \"updated_at\": \"2025-09-07T06:38:08.000000Z\",\n  \"budget\": {\n    \"id\": 1,\n    \"user_id\": 5,\n    \"month\": \"2024-01-01T00:00:00.000000Z\",\n    \"notes\": \"Updated January 2024 Budget\",\n    \"created_at\": \"2025-09-07T06:37:12.000000Z\",\n    \"updated_at\": \"2025-09-07T06:37:37.000000Z\"\n  },\n  \"category\": {\n    \"id\": 5,\n    \"user_id\": 5,\n    \"name\": \"Groceries\",\n    \"type\": \"expense\",\n    \"color\": \"#FF5733\",\n    \"sort_order\": 0,\n    \"is_default\": false,\n    \"created_at\": \"2025-09-07T06:37:49.000000Z\",\n    \"updated_at\": \"2025-09-07T06:37:49.000000Z\"\n  }\n}"
						}
					]
				},
				{
					"name": "Delete Budget Item",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budget-items/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budget-items",
								"1"
							]
						}
					},
					"response": [
						{
							"name": "Budget Item Deleted Successfully",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/budget-items/1",
									"host": ["{{base_url}}"],
									"path": ["api", "budget-items", "1"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Budget item deleted successfully\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Error Cases",
			"item": [
				{
					"name": "Create Duplicate Budget (Should Fail)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"month\": \"2024-01-01\",\n  \"notes\": \"Duplicate Budget\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/budgets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets"
							]
						}
					},
					"response": [
						{
							"name": "Duplicate Budget Error",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"month\": \"2024-01-01\",\n  \"notes\": \"Duplicate Budget\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/budgets",
									"host": ["{{base_url}}"],
									"path": ["api", "budgets"]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: budgets.user_id, budgets.month (Connection: sqlite, SQL: insert into \\\"budgets\\\" (\\\"user_id\\\", \\\"month\\\", \\\"notes\\\", \\\"updated_at\\\", \\\"created_at\\\") values (5, 2024-01-01 00:00:00, Duplicate Budget, 2025-09-07 06:38:16, 2025-09-07 06:38:16))\",\n  \"exception\": \"Illuminate\\\\Database\\\\UniqueConstraintViolationException\"\n}"
						}
					]
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		}
	]
}